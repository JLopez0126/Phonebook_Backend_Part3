{"version":3,"sources":["components/AllPersons.js","components/FilteredPersons.js","components/Filter.js","services/Persons.js","App.js","index.js"],"names":["Person","name","phone","id","removePerson","onClick","AllPersons","persons","map","key","FilteredPersons","filter","toUpperCase","includes","Filter","newFilter","setNewFilter","value","onChange","event","target","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","props","useState","setPersons","newName","setNewName","newPhone","setNewPhone","text","type","undefined","notification","setNotification","message","setTimeout","useEffect","personService","className","onSubmit","preventDefault","some","person","window","confirm","newPerson","console","log","result","find","p","getPersonByName","catch","receivedPersons","noteObject","length","concat","error","NameToRemove","getPersonById","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e879e1a9.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n//Displaying Person Table\r\nconst AllPersons = ({ persons,removePerson }) => {\r\n    return (\r\n      <table>\r\n        <tbody>\r\n          {persons.map(({ name, phone, id }) =>\r\n           <Person name={name} phone={phone} id={id} removePerson={removePerson} key={name}/>)}\r\n        </tbody>\r\n      </table>\r\n    )\r\n}\r\n\r\n\r\n//Displaying individual person\r\nconst Person = ({name, phone, id ,removePerson }) => {\r\n\r\n    return (\r\n        <tr>\r\n            <td>{id}</td>\r\n            <td>{name}</td>\r\n            <td>{phone}</td>\r\n            <td><button onClick={() => removePerson(id)}>delete</button></td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nexport default AllPersons","import React from 'react'\r\nimport AllPersons from './AllPersons'\r\n\r\nconst FilteredPersons = ({filter, persons,removePerson}) => {\r\n  return (\r\n  <AllPersons persons={persons.filter(({name}) => name.toUpperCase().includes(filter.toUpperCase()))}\r\n  removePerson={removePerson}/>\r\n  \r\n  )}\r\n\r\nexport default FilteredPersons","import React from 'react'\r\n\r\nconst Filter = ({newFilter, setNewFilter}) => {\r\n  return (\r\n    <div>\r\n       <input value={newFilter} onChange={(event) => setNewFilter(event.target.value)} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteName= id => {\r\n  return axios.delete(`${baseUrl}/${id}`).then(response => response.data)\r\n}\r\n\r\nexport default { getAll:getAll, create:create, update:update ,deleteName:deleteName}\r\n","import React, { useState, useEffect } from 'react'\nimport FilteredPersons from './components/FilteredPersons'\nimport Filter from './components/Filter'\nimport personService from './services/Persons'\n\nconst App = (props) => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newPhone, setNewPhone] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [notification, setNotification] = useState({ text: \"\", type: undefined })\n\n  const getPersonByName = name => {\n    console.log(\"asked for\", name);\n    const result = persons.find(p => p.name.toUpperCase() === name.toUpperCase());\n    console.log(\"found\", result);\n    return result;\n  }\n\n\n  //Notification message\n  const message = (text, type) => {\n    setNotification({ text, type })\n    setTimeout(() => setNotification({}), 3000)\n  }\n\n  const Notification = ({text, type}) => {\n\n    if (type === undefined) {\n        return null;\n    } else {\n        return (\n            <div className={type} id=\"notification\">\n                {text}\n            </div>\n        )\n    }\n\n}\n\n  //Fetching the db.json \n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n\n    //Handling Onchange\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handlePhoneChange = (event) => {\n    console.log(event.target.value)\n    setNewPhone(event.target.value)\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n  if(persons.some(person => person.name.toUpperCase() === newName.toUpperCase())) {\n  //Updating Number\n  const update = window.confirm(`${newName} already exists, update number?`)\n  if(!update) return;\n\n  const newPerson = { ...getPersonByName(newName), phone: newPhone };\n  setPersons(persons.map(p => p.id !== newPerson.id ? p : newPerson))\n  personService.update(newPerson.id, newPerson)\n    .then(() => message(`Updated number of ${newName}`, \"success\"))\n      .catch(() => {\n        message(`${newPerson.name} has already been removed`, \"error\")\n        personService.getAll().then(receivedPersons => setPersons(receivedPersons))\n      })\n    } else {\n      //If Person Not Exists\n      const noteObject = {\n            name: newName,\n            phone: newPhone,\n            id: persons.length + 1,\n        }\n        personService\n        .create(noteObject)\n        .then(response => {\n          message(`Added ${newName}`, \"success\");\n          setPersons(persons.concat(response))     \n          setNewName('')\n          setNewPhone('')\n      }) \n    .catch(error => {\n      console.log(error.response.data);\n       message(error.response.data, \"error\");\n    })\n  }  \n}\n\n\n //\n  const getPersonById = id => {\n    return persons.find(p => p.id === id);\n  }\n  //Delete Person\n  const removePerson = id => {\n    const NameToRemove = getPersonById(id);\n    const confirmed = window.confirm(`Are you sure you want to remove ${NameToRemove.name}?`)\n    if (!confirmed) return;\n\n    setPersons(persons.filter(p => p.id !== id));\n    personService.deleteName(id)\n      .then(() => message(`Removed ${NameToRemove.name}`, \"success\"))\n      .catch(() => {\n        message(`${NameToRemove.name}Name has already been removed `, \"error\");\n        personService.getAll().then(receivedPersons => setPersons(receivedPersons))\n      })\n  }\n\n\n  return (\n    <div>\n      <h2>PhoneBook</h2>\n      <div>\n      <Notification text={notification.text} type={notification.type} />\n      </div>\n      filter shown with : <Filter newFilter={newFilter} setNewFilter={setNewFilter}/>\n      <h2>Add a New</h2>\n      <form onSubmit={addName}>\n        <div>\n          name:  <input value={newName}\n          onChange={handleNameChange} />\n          name:  <input value={newPhone}\n          onChange={handlePhoneChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n        <FilteredPersons filter={newFilter} persons={persons} removePerson={removePerson}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}